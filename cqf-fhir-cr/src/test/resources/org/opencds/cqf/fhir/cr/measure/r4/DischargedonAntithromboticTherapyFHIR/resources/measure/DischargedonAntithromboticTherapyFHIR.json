{
  "resourceType": "Measure",
  "id": "DischargedonAntithromboticTherapyFHIR",
  "contained": [
    {
      "resourceType": "Library",
      "id": "effective-data-requirements",
      "extension": [
        {
          "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-directReferenceCode",
          "valueCoding": {
            "system": "http://terminology.hl7.org/CodeSystem/medicationrequest-category",
            "code": "community",
            "display": "Community"
          }
        },
        {
          "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-directReferenceCode",
          "valueCoding": {
            "system": "http://terminology.hl7.org/CodeSystem/medicationrequest-category",
            "code": "discharge",
            "display": "Discharge"
          }
        },
        {
          "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-logicDefinition",
          "extension": [
            {
              "url": "libraryName",
              "valueString": "SupplementalDataElements"
            },
            {
              "url": "name",
              "valueString": "SDE Sex"
            },
            {
              "url": "statement",
              "valueString": "define &quot;SDE Sex&quot;:   case       when Patient.gender = &#39;male&#39; then Code { code: &#39;M&#39;, system: &#39;http://hl7.org/fhir/v3/AdministrativeGender&#39;, display: &#39;Male&#39; }       when Patient.gender = &#39;female&#39; then Code { code: &#39;F&#39;, system: &#39;http://hl7.org/fhir/v3/AdministrativeGender&#39;, display: &#39;Female&#39; }       else null     end"
            },
            {
              "url": "displaySequence",
              "valueString": "0"
            }
          ]
        },
        {
          "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-logicDefinition",
          "extension": [
            {
              "url": "libraryName",
              "valueString": "DischargedonAntithromboticTherapyFHIR"
            },
            {
              "url": "name",
              "valueString": "SDE Sex"
            },
            {
              "url": "statement",
              "valueString": "define &quot;SDE Sex&quot;:   SDE.&quot;SDE Sex&quot;"
            },
            {
              "url": "displaySequence",
              "valueString": "1"
            }
          ]
        },
        {
          "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-logicDefinition",
          "extension": [
            {
              "url": "libraryName",
              "valueString": "TJCOverall"
            },
            {
              "url": "name",
              "valueString": "Non Elective Inpatient Encounter"
            },
            {
              "url": "statement",
              "valueString": "define &quot;Non Elective Inpatient Encounter&quot;:   [&quot;Encounter&quot;: &quot;Nonelective Inpatient Encounter&quot;] NonElectiveEncounter         where NonElectiveEncounter.period ends during day of &quot;Measurement Period&quot;"
            },
            {
              "url": "displaySequence",
              "valueString": "2"
            }
          ]
        },
        {
          "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-logicDefinition",
          "extension": [
            {
              "url": "libraryName",
              "valueString": "TJCOverall"
            },
            {
              "url": "name",
              "valueString": "All Stroke Encounter"
            },
            {
              "url": "statement",
              "valueString": "define &quot;All Stroke Encounter&quot;:   &quot;Non Elective Inpatient Encounter&quot; NonElectiveEncounter   let ConditionCode: NonElectiveEncounter.principalDiagnosis().code     where ( ConditionCode in &quot;Hemorrhagic Stroke&quot;        or   ConditionCode in &quot;Ischemic Stroke&quot; )"
            },
            {
              "url": "displaySequence",
              "valueString": "3"
            }
          ]
        },
        {
          "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-logicDefinition",
          "extension": [
            {
              "url": "libraryName",
              "valueString": "TJCOverall"
            },
            {
              "url": "name",
              "valueString": "Encounter with Principal Diagnosis and Age"
            },
            {
              "url": "statement",
              "valueString": "define &quot;Encounter with Principal Diagnosis and Age&quot;:   &quot;All Stroke Encounter&quot; AllStrokeEncounter     where AgeInYearsAt(date from start of AllStrokeEncounter.period ) &gt;= 18"
            },
            {
              "url": "displaySequence",
              "valueString": "4"
            }
          ]
        },
        {
          "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-logicDefinition",
          "extension": [
            {
              "url": "libraryName",
              "valueString": "TJCOverall"
            },
            {
              "url": "name",
              "valueString": "Ischemic Stroke Encounter"
            },
            {
              "url": "statement",
              "valueString": "define &quot;Ischemic Stroke Encounter&quot;:   &quot;Encounter with Principal Diagnosis and Age&quot; EncounterWithAge     where EncounterWithAge.principalDiagnosis().code in &quot;Ischemic Stroke&quot;"
            },
            {
              "url": "displaySequence",
              "valueString": "5"
            }
          ]
        },
        {
          "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-logicDefinition",
          "extension": [
            {
              "url": "libraryName",
              "valueString": "DischargedonAntithromboticTherapyFHIR"
            },
            {
              "url": "name",
              "valueString": "Numerator"
            },
            {
              "url": "statement",
              "valueString": "define &quot;Numerator&quot;:   TJC.&quot;Ischemic Stroke Encounter&quot; IschemicStrokeEncounter     with [&quot;MedicationRequest&quot;: &quot;Antithrombotic Therapy for Ischemic Stroke&quot;] DischargeAntithrombotic       such that DischargeAntithrombotic.authoredOn during IschemicStrokeEncounter.period"
            },
            {
              "url": "displaySequence",
              "valueString": "6"
            }
          ]
        },
        {
          "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-logicDefinition",
          "extension": [
            {
              "url": "libraryName",
              "valueString": "DischargedonAntithromboticTherapyFHIR"
            },
            {
              "url": "name",
              "valueString": "Denominator"
            },
            {
              "url": "statement",
              "valueString": "define &quot;Denominator&quot;:   TJC.&quot;Ischemic Stroke Encounter&quot;"
            },
            {
              "url": "displaySequence",
              "valueString": "7"
            }
          ]
        },
        {
          "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-logicDefinition",
          "extension": [
            {
              "url": "libraryName",
              "valueString": "SupplementalDataElements"
            },
            {
              "url": "name",
              "valueString": "SDE Payer"
            },
            {
              "url": "statement",
              "valueString": "define &quot;SDE Payer&quot;:   [Coverage: type in &quot;Payer Type&quot;] Payer     return {       code: Payer.type,       period: Payer.period     }"
            },
            {
              "url": "displaySequence",
              "valueString": "8"
            }
          ]
        },
        {
          "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-logicDefinition",
          "extension": [
            {
              "url": "libraryName",
              "valueString": "DischargedonAntithromboticTherapyFHIR"
            },
            {
              "url": "name",
              "valueString": "SDE Payer"
            },
            {
              "url": "statement",
              "valueString": "define &quot;SDE Payer&quot;:   SDE.&quot;SDE Payer&quot;"
            },
            {
              "url": "displaySequence",
              "valueString": "9"
            }
          ]
        },
        {
          "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-logicDefinition",
          "extension": [
            {
              "url": "libraryName",
              "valueString": "DischargedonAntithromboticTherapyFHIR"
            },
            {
              "url": "name",
              "valueString": "Initial Population"
            },
            {
              "url": "statement",
              "valueString": "define &quot;Initial Population&quot;:   TJC.&quot;Encounter with Principal Diagnosis and Age&quot;"
            },
            {
              "url": "displaySequence",
              "valueString": "10"
            }
          ]
        },
        {
          "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-logicDefinition",
          "extension": [
            {
              "url": "libraryName",
              "valueString": "SupplementalDataElements"
            },
            {
              "url": "name",
              "valueString": "SDE Ethnicity"
            },
            {
              "url": "statement",
              "valueString": "define &quot;SDE Ethnicity&quot;:   Patient.ethnicity E     return Tuple {       codes: { E.ombCategory } union E.detailed,       display: E.text     }"
            },
            {
              "url": "displaySequence",
              "valueString": "11"
            }
          ]
        },
        {
          "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-logicDefinition",
          "extension": [
            {
              "url": "libraryName",
              "valueString": "DischargedonAntithromboticTherapyFHIR"
            },
            {
              "url": "name",
              "valueString": "SDE Ethnicity"
            },
            {
              "url": "statement",
              "valueString": "//BONNIEMAT-1617-Since there is an anticipated resolution for STU 5 for both Medication.Request and Medication.Discharge which leaves two blockers on coverage, will leave the assertion logic as is and update the test cases for coverage.   define &quot;SDE Ethnicity&quot;:   SDE.&quot;SDE Ethnicity&quot;"
            },
            {
              "url": "displaySequence",
              "valueString": "12"
            }
          ]
        },
        {
          "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-logicDefinition",
          "extension": [
            {
              "url": "libraryName",
              "valueString": "TJCOverall"
            },
            {
              "url": "name",
              "valueString": "Ischemic Stroke Encounters with Discharge Disposition"
            },
            {
              "url": "statement",
              "valueString": "define &quot;Ischemic Stroke Encounters with Discharge Disposition&quot;:   &quot;Ischemic Stroke Encounter&quot; IschemicStrokeEncounter   let DischDisp: IschemicStrokeEncounter.hospitalization.dischargeDisposition    where  DischDisp in &quot;Discharge To Acute Care Facility&quot;   or DischDisp in &quot;Left Against Medical Advice&quot;   or DischDisp in &quot;Patient Expired&quot;   or DischDisp in &quot;Discharged to Home for Hospice Care&quot;   or DischDisp in &quot;Discharged to Health Care Facility for Hospice Care&quot;"
            },
            {
              "url": "displaySequence",
              "valueString": "13"
            }
          ]
        },
        {
          "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-logicDefinition",
          "extension": [
            {
              "url": "libraryName",
              "valueString": "TJCOverall"
            },
            {
              "url": "name",
              "valueString": "Intervention Comfort Measures"
            },
            {
              "url": "statement",
              "valueString": "define &quot;Intervention Comfort Measures&quot;:   ( [&quot;ServiceRequest&quot;: code in &quot;Comfort Measures&quot;] SR     where SR.status in { &#39;active&#39;, &#39;completed&#39;, &#39;on-hold&#39; }       and SR.intent in { &#39;order&#39;, &#39;original-order&#39;, &#39;reflex-order&#39;, &#39;filler-order&#39;, &#39;instance-order&#39; }       and SR.doNotPerform is not true   )     union ( [&quot;Procedure&quot;: &quot;Comfort Measures&quot;] InterventionPerformed         where InterventionPerformed.status in { &#39;completed&#39;, &#39;in-progress&#39; }   )"
            },
            {
              "url": "displaySequence",
              "valueString": "14"
            }
          ]
        },
        {
          "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-logicDefinition",
          "extension": [
            {
              "url": "libraryName",
              "valueString": "DischargedonAntithromboticTherapyFHIR"
            },
            {
              "url": "name",
              "valueString": "Encounter with Comfort Measures during Hospitalization for Patients with Documented Ischemic Stroke"
            },
            {
              "url": "statement",
              "valueString": "define &quot;Encounter with Comfort Measures during Hospitalization for Patients with Documented Ischemic Stroke&quot;:   &quot;Denominator&quot; Encounter     with TJC.&quot;Intervention Comfort Measures&quot; ComfortMeasure       such that Coalesce(start of ComfortMeasure.performed.toInterval(), ComfortMeasure.authoredOn) during Encounter.hospitalizationWithObservation ( )"
            },
            {
              "url": "displaySequence",
              "valueString": "15"
            }
          ]
        },
        {
          "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-logicDefinition",
          "extension": [
            {
              "url": "libraryName",
              "valueString": "DischargedonAntithromboticTherapyFHIR"
            },
            {
              "url": "name",
              "valueString": "Denominator Exclusions"
            },
            {
              "url": "statement",
              "valueString": "define &quot;Denominator Exclusions&quot;:   TJC.&quot;Ischemic Stroke Encounters with Discharge Disposition&quot;     union &quot;Encounter with Comfort Measures during Hospitalization for Patients with Documented Ischemic Stroke&quot;"
            },
            {
              "url": "displaySequence",
              "valueString": "16"
            }
          ]
        },
        {
          "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-logicDefinition",
          "extension": [
            {
              "url": "libraryName",
              "valueString": "SupplementalDataElements"
            },
            {
              "url": "name",
              "valueString": "SDE Race"
            },
            {
              "url": "statement",
              "valueString": "define &quot;SDE Race&quot;:   Patient.race R     return Tuple {       codes: R.ombCategory union R.detailed,       display: R.text     }"
            },
            {
              "url": "displaySequence",
              "valueString": "17"
            }
          ]
        },
        {
          "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-logicDefinition",
          "extension": [
            {
              "url": "libraryName",
              "valueString": "DischargedonAntithromboticTherapyFHIR"
            },
            {
              "url": "name",
              "valueString": "SDE Race"
            },
            {
              "url": "statement",
              "valueString": "define &quot;SDE Race&quot;:   SDE.&quot;SDE Race&quot;"
            },
            {
              "url": "displaySequence",
              "valueString": "18"
            }
          ]
        },
        {
          "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-logicDefinition",
          "extension": [
            {
              "url": "libraryName",
              "valueString": "DischargedonAntithromboticTherapyFHIR"
            },
            {
              "url": "name",
              "valueString": "Reason for Not Giving Antithrombotic at Discharge"
            },
            {
              "url": "statement",
              "valueString": "define &quot;Reason for Not Giving Antithrombotic at Discharge&quot;:   [&quot;MedicationNotRequested&quot;: &quot;Antithrombotic Therapy for Ischemic Stroke&quot;] NoAntithromboticDischarge     where ( NoAntithromboticDischarge.reasonCode in &quot;Medical Reason For Not Providing Treatment&quot;         or NoAntithromboticDischarge.reasonCode in &quot;Patient Refusal&quot;     )       and ( NoAntithromboticDischarge.isCommunity ( )           or NoAntithromboticDischarge.isDischarge ( )       )       and NoAntithromboticDischarge.intent in { &#39;order&#39;, &#39;original-order&#39;, &#39;reflex-order&#39;, &#39;filler-order&#39;, &#39;instance-order&#39; }"
            },
            {
              "url": "displaySequence",
              "valueString": "19"
            }
          ]
        },
        {
          "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-logicDefinition",
          "extension": [
            {
              "url": "libraryName",
              "valueString": "DischargedonAntithromboticTherapyFHIR"
            },
            {
              "url": "name",
              "valueString": "Encounter with Documented Reason for No Antithrombotic At Discharge"
            },
            {
              "url": "statement",
              "valueString": "define &quot;Encounter with Documented Reason for No Antithrombotic At Discharge&quot;:   TJC.&quot;Ischemic Stroke Encounter&quot; IschemicStrokeEncounter     with &quot;Reason for Not Giving Antithrombotic at Discharge&quot; NoDischargeAntithrombotic       such that NoDischargeAntithrombotic.authoredOn during IschemicStrokeEncounter.period"
            },
            {
              "url": "displaySequence",
              "valueString": "20"
            }
          ]
        },
        {
          "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-logicDefinition",
          "extension": [
            {
              "url": "libraryName",
              "valueString": "DischargedonAntithromboticTherapyFHIR"
            },
            {
              "url": "name",
              "valueString": "Pharmacological Contraindications for Antithrombotic Therapy at Discharge"
            },
            {
              "url": "statement",
              "valueString": "define &quot;Pharmacological Contraindications for Antithrombotic Therapy at Discharge&quot;:   [&quot;MedicationRequest&quot;: &quot;Pharmacological Contraindications For Antithrombotic Therapy&quot;] Pharmacological     where ( Pharmacological.isCommunity ( )         or Pharmacological.isDischarge ( )     )       and Pharmacological.status in { &#39;active&#39;, &#39;completed&#39; }       and Pharmacological.intent in { &#39;order&#39;, &#39;original-order&#39;, &#39;reflex-order&#39;, &#39;filler-order&#39;, &#39;instance-order&#39; }       and Pharmacological.doNotPerform is not true"
            },
            {
              "url": "displaySequence",
              "valueString": "21"
            }
          ]
        },
        {
          "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-logicDefinition",
          "extension": [
            {
              "url": "libraryName",
              "valueString": "DischargedonAntithromboticTherapyFHIR"
            },
            {
              "url": "name",
              "valueString": "Encounter with Pharmacological Contraindications for Antithrombotic Therapy at Discharge"
            },
            {
              "url": "statement",
              "valueString": "define &quot;Encounter with Pharmacological Contraindications for Antithrombotic Therapy at Discharge&quot;:   TJC.&quot;Ischemic Stroke Encounter&quot; IschemicStrokeEncounter     with &quot;Pharmacological Contraindications for Antithrombotic Therapy at Discharge&quot; DischargePharmacological       such that DischargePharmacological.authoredOn during IschemicStrokeEncounter.period"
            },
            {
              "url": "displaySequence",
              "valueString": "22"
            }
          ]
        },
        {
          "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-logicDefinition",
          "extension": [
            {
              "url": "libraryName",
              "valueString": "DischargedonAntithromboticTherapyFHIR"
            },
            {
              "url": "name",
              "valueString": "Denominator Exceptions"
            },
            {
              "url": "statement",
              "valueString": "//BONNIEMAT-1617-Since there is an anticipated resolution for STU 5 for both Medication.Request and Medication.Discharge which leaves two blockers on coverage, will leave the assertion logic as is and update the test cases for coverage.   define &quot;Denominator Exceptions&quot;:   &quot;Encounter with Documented Reason for No Antithrombotic At Discharge&quot;     union &quot;Encounter with Pharmacological Contraindications for Antithrombotic Therapy at Discharge&quot;"
            },
            {
              "url": "displaySequence",
              "valueString": "23"
            }
          ]
        },
        {
          "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-logicDefinition",
          "extension": [
            {
              "url": "libraryName",
              "valueString": "CQMCommon"
            },
            {
              "url": "name",
              "valueString": "principalDiagnosis"
            },
            {
              "url": "statement",
              "valueString": "/* @description: Returns the condition that is specified as the principal diagnosis for the encounter */ define fluent function principalDiagnosis(Encounter Encounter ):  singleton from ((Encounter.diagnosis D where D.rank = 1) PD       return singleton from ([Condition] C where C.id = PD.condition.reference.getId())  )"
            },
            {
              "url": "displaySequence",
              "valueString": "24"
            }
          ]
        },
        {
          "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-logicDefinition",
          "extension": [
            {
              "url": "libraryName",
              "valueString": "QICoreCommon"
            },
            {
              "url": "name",
              "valueString": "getId"
            },
            {
              "url": "statement",
              "valueString": "/* @description: Returns the tail of the given uri (i.e. everything after the last slash in the URI). @comment: This function can be used to determine the logical id of a given resource. It can be used in a single-server environment to trace references. However, this function does not attempt to resolve or distinguish the base of the given url, and so cannot be used safely in multi-server environments. */ define fluent function getId(uri String):   Last(Split(uri, &#39;/&#39;))"
            },
            {
              "url": "displaySequence",
              "valueString": "25"
            }
          ]
        },
        {
          "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-logicDefinition",
          "extension": [
            {
              "url": "libraryName",
              "valueString": "FHIRHelpers"
            },
            {
              "url": "name",
              "valueString": "ToString"
            },
            {
              "url": "statement",
              "valueString": "define function ToString(value uri): value.value"
            },
            {
              "url": "displaySequence",
              "valueString": "26"
            }
          ]
        },
        {
          "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-logicDefinition",
          "extension": [
            {
              "url": "libraryName",
              "valueString": "FHIRHelpers"
            },
            {
              "url": "name",
              "valueString": "ToCode"
            },
            {
              "url": "statement",
              "valueString": "/* @description: Converts the given FHIR [Coding](https://hl7.org/fhir/datatypes.html#Coding) value to a CQL Code. */ define function ToCode(coding FHIR.Coding):     if coding is null then         null     else         System.Code {           code: coding.code.value,           system: coding.system.value,           version: coding.version.value,           display: coding.display.value         }"
            },
            {
              "url": "displaySequence",
              "valueString": "27"
            }
          ]
        },
        {
          "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-logicDefinition",
          "extension": [
            {
              "url": "libraryName",
              "valueString": "CQMCommon"
            },
            {
              "url": "name",
              "valueString": "hospitalizationWithObservation"
            },
            {
              "url": "statement",
              "valueString": "/* @description: Hospitalization with Observation returns the total interval from the start of any immediately prior emergency department visit through the observation visit to the discharge of the given encounter */ define fluent function hospitalizationWithObservation(TheEncounter Encounter ):   TheEncounter Visit     let ObsVisit: Last([Encounter: &quot;Observation Services&quot;] LastObs       where LastObs.status = &#39;finished&#39;             and LastObs.period ends 1 hour or less on or before start of Visit.period       sort by end of period      ),      VisitStart: Coalesce(start of ObsVisit.period, start of Visit.period),      EDVisit: Last([Encounter: &quot;Emergency Department Visit&quot;] LastED       where LastED.status = &#39;finished&#39;             and LastED.period ends 1 hour or less on or before VisitStart       sort by end of period      )     return Interval[Coalesce(start of EDVisit.period, VisitStart), end of Visit.period]"
            },
            {
              "url": "displaySequence",
              "valueString": "28"
            }
          ]
        },
        {
          "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-logicDefinition",
          "extension": [
            {
              "url": "libraryName",
              "valueString": "FHIRHelpers"
            },
            {
              "url": "name",
              "valueString": "ToConcept"
            },
            {
              "url": "statement",
              "valueString": "/* @description: Converts the given FHIR [CodeableConcept](https://hl7.org/fhir/datatypes.html#CodeableConcept) value to a CQL Concept. */ define function ToConcept(concept FHIR.CodeableConcept):     if concept is null then         null     else         System.Concept {             codes: concept.coding C return ToCode(C),             display: concept.text.value         }"
            },
            {
              "url": "displaySequence",
              "valueString": "29"
            }
          ]
        },
        {
          "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-logicDefinition",
          "extension": [
            {
              "url": "libraryName",
              "valueString": "QICoreCommon"
            },
            {
              "url": "name",
              "valueString": "isCommunity"
            },
            {
              "url": "statement",
              "valueString": "/* @description: Returns true if the given MedicationRequest has a category of Community */ define fluent function isCommunity(medicationRequest MedicationNotRequested):   exists (medicationRequest.category C     where C ~ Community   )"
            },
            {
              "url": "displaySequence",
              "valueString": "30"
            }
          ]
        },
        {
          "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-logicDefinition",
          "extension": [
            {
              "url": "libraryName",
              "valueString": "QICoreCommon"
            },
            {
              "url": "name",
              "valueString": "isDischarge"
            },
            {
              "url": "statement",
              "valueString": "/* @description: Returns true if the given MedicationRequest has a category of Discharge */ define fluent function isDischarge(medicationRequest MedicationNotRequested):   exists (medicationRequest.category C     where C ~ Discharge   )"
            },
            {
              "url": "displaySequence",
              "valueString": "31"
            }
          ]
        }
      ],
      "status": "active",
      "type": {
        "coding": [
          {
            "system": "http://terminology.hl7.org/CodeSystem/library-type",
            "code": "module-definition"
          }
        ]
      }
    }
  ],
  "extension": [
    {
      "id": "supplementalDataGuidance",
      "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-supplementalDataGuidance",
      "extension": [
        {
          "url": "guidance",
          "valueString": "Patient's Ethnicity: Hispanic or Latino Not Hispanic or Latino  Patient's Payer: Categories of types of health care payer entities as defined by the US Public Health Data Consortium SOP code system  Patient's Race: Native Hawaiian or Other Pacific Islander Asian American Indian or Alaska Native Other Race White Black or African American  Patient's Sex: Gender identity restricted to only Male and Female used in administrative situations requiring a restriction to these two categories. "
        },
        {
          "url": "usage",
          "valueCodeableConcept": {
            "coding": [
              {
                "system": "http://terminology.hl7.org/CodeSystem/measure-data-usage",
                "code": "supplemental-data",
                "display": "Supplemental Data"
              }
            ],
            "text": "Supplemental Data Guidance"
          }
        }
      ]
    },
    {
      "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-effectiveDataRequirements",
      "valueReference": {
        "reference": "#effective-data-requirements"
      }
    }
  ],
  "url": "https://madie.cms.gov/Measure/DischargedonAntithromboticTherapyFHIR",
  "identifier": [
    {
      "use": "usual",
      "type": {
        "coding": [
          {
            "system": "http://hl7.org/fhir/us/cqfmeasures/CodeSystem/identifier-type",
            "code": "short-name"
          }
        ]
      },
      "system": "https://madie.cms.gov/measure/shortName",
      "value": "CMS104FHIR"
    },
    {
      "use": "official",
      "type": {
        "coding": [
          {
            "system": "http://hl7.org/fhir/us/cqfmeasures/CodeSystem/identifier-type",
            "code": "version-independent"
          }
        ]
      },
      "system": "urn:ietf:rfc:3986",
      "value": "urn:uuid:4f57e4a2-097b-45f8-9c85-91b35ea92dc1"
    },
    {
      "use": "official",
      "type": {
        "coding": [
          {
            "system": "http://hl7.org/fhir/us/cqfmeasures/CodeSystem/identifier-type",
            "code": "version-specific"
          }
        ]
      },
      "system": "urn:ietf:rfc:3986",
      "value": "urn:uuid:9b96b5de-f0b8-412a-8523-ed2918efeb19"
    },
    {
      "use": "official",
      "type": {
        "coding": [
          {
            "system": "http://hl7.org/fhir/us/cqfmeasures/CodeSystem/identifier-type",
            "code": "publisher"
          }
        ]
      },
      "system": "https://madie.cms.gov/measure/cmsId",
      "value": "104FHIR",
      "assigner": {
        "display": "CMS"
      }
    }
  ],
  "version": "0.9.000",
  "name": "DischargedonAntithromboticTherapyFHIR",
  "effectivePeriod": {
    "start": "2025-01-01",
    "end": "2025-12-31"
  },
  "library": [
    "https://madie.cms.gov/Library/DischargedonAntithromboticTherapyFHIR"
  ],
  "group": [
    {
      "id": "64f0daaf56d636294b157ea1",
      "extension": [
        {
          "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-scoring",
          "valueCodeableConcept": {
            "coding": [
              {
                "system": "http://terminology.hl7.org/CodeSystem/measure-scoring",
                "code": "proportion",
                "display": "Proportion"
              }
            ]
          }
        },
        {
          "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-populationBasis",
          "valueCode": "Encounter"
        },
        {
          "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-type",
          "valueCodeableConcept": {
            "coding": [
              {
                "system": "http://terminology.hl7.org/CodeSystem/measure-type",
                "code": "process",
                "display": "Process"
              }
            ]
          }
        }
      ],
      "description": "Ischemic stroke patients prescribed or continuing to take antithrombotic therapy at hospital discharge",
      "population": [
        {
          "id": "937BAF2A-D36A-4EE5-B2B2-762A0FE04502",
          "code": {
            "coding": [
              {
                "system": "http://terminology.hl7.org/CodeSystem/measure-population",
                "code": "initial-population",
                "display": "Initial Population"
              }
            ]
          },
          "description": "Inpatient hospitalizations (non-elective admissions) for patients age 18 and older, discharged from inpatient care with a principal diagnosis of ischemic or hemorrhagic stroke, and ends during the measurement period",
          "criteria": {
            "language": "text/cql-identifier",
            "expression": "Initial Population"
          }
        },
        {
          "id": "302C1DCC-7FE6-41EF-A94E-FDAE24B7BB1B",
          "code": {
            "coding": [
              {
                "system": "http://terminology.hl7.org/CodeSystem/measure-population",
                "code": "denominator",
                "display": "Denominator"
              }
            ]
          },
          "description": "Inpatient hospitalizations for patients with a principal diagnosis of Ischemic stroke",
          "criteria": {
            "language": "text/cql-identifier",
            "expression": "Denominator"
          }
        },
        {
          "id": "4B649804-9C55-4949-8CE0-01B462CAA74C",
          "code": {
            "coding": [
              {
                "system": "http://terminology.hl7.org/CodeSystem/measure-population",
                "code": "denominator-exclusion",
                "display": "Denominator Exclusion"
              }
            ]
          },
          "description": "- Inpatient hospitalizations for patients admitted for elective carotid intervention. This exclusion is implicitly modeled by only including non-elective hospitalizations. - Inpatient hospitalizations for patients discharged to another hospital - Inpatient hospitalizations for patients who left against medical advice - Inpatient hospitalizations for patients who expired - Inpatient hospitalizations for patients discharged to home for hospice care - Inpatient hospitalizations for patients discharged to a health care facility for hospice care - Inpatient hospitalizations for patients with comfort measures documented",
          "criteria": {
            "language": "text/cql-identifier",
            "expression": "Denominator Exclusions"
          }
        },
        {
          "id": "99961E3A-EFC4-4858-A3EE-F7F1D5B222FB",
          "code": {
            "coding": [
              {
                "system": "http://terminology.hl7.org/CodeSystem/measure-population",
                "code": "numerator",
                "display": "Numerator"
              }
            ]
          },
          "description": "Inpatient hospitalizations for patients prescribed or continuing to take antithrombotic therapy at hospital discharge",
          "criteria": {
            "language": "text/cql-identifier",
            "expression": "Numerator"
          }
        },
        {
          "id": "5f33f3ea-6ffb-4897-85dd-872dd7ac55b8",
          "code": {
            "coding": [
              {
                "system": "http://terminology.hl7.org/CodeSystem/measure-population",
                "code": "numerator-exclusion",
                "display": "Numerator Exclusion"
              }
            ]
          },
          "criteria": {
            "language": "text/cql-identifier"
          }
        },
        {
          "id": "516A3DD0-69B0-49EF-BBD3-12809CDC843E",
          "code": {
            "coding": [
              {
                "system": "http://terminology.hl7.org/CodeSystem/measure-population",
                "code": "denominator-exception",
                "display": "Denominator Exception"
              }
            ]
          },
          "description": "- Inpatient hospitalizations for patients with a documented reason for not prescribing antithrombotic therapy at discharge. - Inpatient hospitalizations for patients who receive Prasugrel as an antithrombotic therapy at discharge.",
          "criteria": {
            "language": "text/cql-identifier",
            "expression": "Denominator Exceptions"
          }
        }
      ]
    }
  ],
  "supplementalData": [
    {
      "id": "sde-ethnicity",
      "usage": [
        {
          "coding": [
            {
              "system": "http://terminology.hl7.org/CodeSystem/measure-data-usage",
              "code": "supplemental-data"
            }
          ]
        }
      ],
      "description": "SDE Ethnicity",
      "criteria": {
        "language": "text/cql-identifier",
        "expression": "SDE Ethnicity"
      }
    },
    {
      "id": "sde-payer",
      "usage": [
        {
          "coding": [
            {
              "system": "http://terminology.hl7.org/CodeSystem/measure-data-usage",
              "code": "supplemental-data"
            }
          ]
        }
      ],
      "description": "SDE Payer",
      "criteria": {
        "language": "text/cql-identifier",
        "expression": "SDE Payer"
      }
    },
    {
      "id": "sde-race",
      "usage": [
        {
          "coding": [
            {
              "system": "http://terminology.hl7.org/CodeSystem/measure-data-usage",
              "code": "supplemental-data"
            }
          ]
        }
      ],
      "description": "SDE Race",
      "criteria": {
        "language": "text/cql-identifier",
        "expression": "SDE Race"
      }
    },
    {
      "id": "sde-sex",
      "usage": [
        {
          "coding": [
            {
              "system": "http://terminology.hl7.org/CodeSystem/measure-data-usage",
              "code": "supplemental-data"
            }
          ]
        }
      ],
      "description": "SDE Sex",
      "criteria": {
        "language": "text/cql-identifier",
        "expression": "SDE Sex"
      }
    }
  ]
}